async function getSheetData(){try{const e=await fetch("https://sheets.googleapis.com/v4/spreadsheets/1D2Uei_gmRRzVMZaxU8i9tcXI0GxkdDAZeTneyM_EL3U/values/Sheet1!A1:G20?key=AIzaSyCM-B7lkls3rGoLLq9Tf0kego91awAz-wo"),t=await e.json();return t.values?t.values:(console.log("No data found"),[])}catch(e){return console.error("Error fetching spreadsheet:",e),[]}}function initializeSearch(){const e=document.querySelector(".search input");if(!e)return;const t=document.querySelectorAll(".recipe");e.addEventListener("input",(e=>{const n=e.target.value.toLowerCase();t.forEach((e=>{const t=e.querySelector(".recipe-title").textContent.toLowerCase();e.style.display=t.includes(n)?"":"none"}))}))}function createRecipeElement(e){const t=document.createElement("div");t.className="recipe",t.dataset.url="recipe.html";const n=document.createElement("div");n.className="recipe-image";const a=document.createElement("img");a.src=e[6],a.alt=e[0],n.appendChild(a);const s=document.createElement("div");return s.className="recipe-title",s.textContent=e[0],t.appendChild(n),t.appendChild(s),t.addEventListener("click",(()=>{const n=new URL(t.dataset.url,window.location.origin);n.searchParams.set("title",e[0]),n.searchParams.set("category",e[1]),n.searchParams.set("image",e[6]),n.searchParams.set("ingredients",e[3]),n.searchParams.set("instructions",e[4]),n.searchParams.set("tips",e[5]),window.location.href=n.toString()})),t}function displayRecipes(e){const t=document.getElementById("recipe-container");t?(t.innerHTML="",e.forEach((e=>{const n=createRecipeElement(e);t.appendChild(n)})),initializeSearch()):console.error("Recipe container not found")}function filterRecipes(e,t){return"vegan"===t?e.filter((e=>{const t=(e[2]||"").toUpperCase(),n="TRUE"===t;return console.log("Recipe:",e[0],"Is_vegan Value:",t,"Is Vegan:",n),n})):e.filter((e=>e[1].toLowerCase()===t))}document.addEventListener("DOMContentLoaded",(()=>{const e=document.body.className;let t="";e.includes("mains-page")?t="mains":e.includes("sides-page")?t="sides":e.includes("bakes-page")?t="bakes":e.includes("vegan-page")&&(t="vegan"),console.log("Current Page:",t),getSheetData().then((e=>{const n=e.slice(1);console.log("Raw Data from Google Sheets:",e),console.log("All Recipes:",n);const a=filterRecipes(n,t);console.log("Filtered Recipes for",t,"Page:",a),displayRecipes(a)}))}));